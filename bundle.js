!function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=e,n.c=t,n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.r=function(e){Object.defineProperty(e,"__esModule",{value:!0})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=20)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=document.querySelector("#my-canvas"),r=i.getContext("2d");t.canvas=i,t.ctx=r,t.resizeCanvas=function(){var e=window.devicePixelRatio||1;i.width=window.innerWidth,i.height=window.innerHeight,i.style.width=i.width+"px",i.style.height=i.height+"px",i.width=i.width*e,i.height=i.height*e,r.setTransform(e,0,0,e,0,0)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.defaultColor="rgba(0, 0, 0, 1)",t.primary="rgba(0, 0, 255, 1)"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RectangleCollider=t.CircleCollider=void 0;var i=o(n(8)),r=o(n(6));function o(e){return e&&e.__esModule?e:{default:e}}t.CircleCollider=i.default,t.RectangleCollider=r.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.COLORS=t.BRICK_OFFSET_LEFT=t.BRICK_OFFSET_TOP=t.BRICK_PADDING=t.BRICK_HEIGHT=t.BRICK_WIDTH=t.BRICK_COLUMN_COUNT=t.BRICK_ROW_COUNT=t.BALL_RADIUS=void 0;var i=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}(n(1));t.BALL_RADIUS=10,t.BRICK_ROW_COUNT=3,t.BRICK_COLUMN_COUNT=5,t.BRICK_WIDTH=75,t.BRICK_HEIGHT=20,t.BRICK_PADDING=10,t.BRICK_OFFSET_TOP=30,t.BRICK_OFFSET_LEFT=30;t.COLORS=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){var n=t.x,i=t.y,r=t.dead,o=void 0!==r&&r;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.x=n,this.y=i,this.dead=o,this.collider=null}return i(e,[{key:"update",value:function(e){console.error("Update not implemented!")}},{key:"draw",value:function(){console.error("Draw not implemented!")}},{key:"die",value:function(){this.dead=!0}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=(i=o)&&i.__esModule?i:{default:i},u=n(2),l=n(0),c=n(1);var s=function(e){function t(e){var n=e.x,i=e.y,r=e.width,o=e.height;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{x:n,y:i}));return a.width=r,a.height=o,a.collider=new u.RectangleCollider({x:n,y:i,width:r,height:o,name:"Brick",object:a}),a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"update",value:function(e){this.collider.update({})}},{key:"draw",value:function(){var e=this.x,t=this.y,n=this.width,i=this.height;l.ctx.fillStyle=c.primary,l.ctx.fillRect(e,t,n,i),l.ctx.fillStyle=c.defaultColor}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(7)),o=a(n(8));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){var n=e.x,i=e.y,r=e.width,o=e.height,a=e.name,u=e.object;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var l=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{x:n,y:i,name:a,object:u}));return l.width=r,l.height=o,l}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"update",value:function(e){var n=e.x,i=void 0===n?this.x:n,r=e.y,o=void 0===r?this.y:r,a=e.width,u=void 0===a?this.width:a,l=e.height,c=void 0===l?this.height:l;(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,{x:i,y:o}),this.width=u,this.height=c}},{key:"isColliding",value:function(e){return e instanceof o.default&&e.isColliding(this)}},{key:"center",value:function(){var e=this.x,t=this.y;return{x:e+this.width/2,y:t+this.height/2}}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(t){var n=t.name,i=t.x,r=t.y,o=t.object;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.name=n,this.x=i,this.y=r,this.object=o,this._collisions=[]}return i(e,[{key:"update",value:function(e){var t=e.x,n=void 0===t?this.x:t,i=e.y,r=void 0===i?this.y:i;this.x=n,this.y=r,this._collisions=[]}},{key:"isColliding",value:function(e){throw new Error("Not implemented: isColliding!")}},{key:"collide",value:function(e){this._collisions.push(e)}},{key:"collidesWith",value:function(e){return 0!==this._collisions.filter(function(t){return t.name===e}).length}},{key:"getCollisionWith",value:function(e){return this._collisions.filter(function(t){return t.name===e})[0].object}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=a(n(7)),o=a(n(6));function a(e){return e&&e.__esModule?e:{default:e}}var u=function(e){function t(e){var n=e.x,i=e.y,r=e.name,o=e.radius,a=e.object;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var u=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{x:n,y:i,name:r,object:a}));return u.radius=o,u}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"update",value:function(e){var n=e.x,i=void 0===n?this.x:n,r=e.y,o=void 0===r?this.y:r,a=e.radius,u=void 0===a?this.radius:a;(function e(t,n,i){null===t&&(t=Function.prototype);var r=Object.getOwnPropertyDescriptor(t,n);if(void 0===r){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0})(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"update",this).call(this,{x:i,y:o}),this.radius=u}},{key:"isColliding",value:function(e){if(e instanceof o.default){var t=e.center(),n=Math.abs(t.x-this.x),i=Math.abs(t.y-this.y);return!(n>e.width/2+this.radius)&&(!(i>e.height/2+this.radius)&&(n<=e.width/2||(i<=e.height/2||(n-e.width/2^i-e.height/2+2^2)<=this.radius^2)))}return!1}}]),t}();t.default=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.brickWidth=void 0;var i=n(0),r=n(3);t.brickWidth=function(){return(i.canvas.clientWidth-2*r.BRICK_OFFSET_LEFT-(r.BRICK_COLUMN_COUNT-1)*r.BRICK_PADDING)/r.BRICK_COLUMN_COUNT}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}return i(e,[{key:"detect",value:function(e){for(var t=0;t<e.length;t++)for(var n=t+1;n<e.length;n++){var i=e[t],r=e[n],o=i.collider,a=r.collider;o.isColliding(a)&&(o.collide(a),a.collide(o))}}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(10),o=(i=r)&&i.__esModule?i:{default:i};t.default=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}();var r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.keys={},this.registerListeners()}return i(e,[{key:"registerListeners",value:function(){var e=this;window.addEventListener("keydown",function(t){e.keys[t.keyCode]=!0}),window.addEventListener("keyup",function(t){e.keys[t.keyCode]=!1})}},{key:"isDown",value:function(e){return!!this.keys.hasOwnProperty(e)&&this.keys[e]}}]),e}();t.default=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.timestamp=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},t.calculateDeltaTime=function(e,t){return Math.min(1,(e-t)/1e3)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={LEFT_ARROW:37,RIGHT_ARROW:39}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=c(n(4)),o=n(0),a=n(1),u=n(2),l=c(n(14));function c(e){return e&&e.__esModule?e:{default:e}}var s=function(e){function t(e){var n=e.x,i=e.y,r=e.controls,a=e.width,l=void 0===a?100:a,c=e.height,s=void 0===c?10:c;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var f=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{x:n,y:i}));return f.controls=r,f._width=l,f._height=s,f.vx=500,f.x=(o.canvas.clientWidth-f._width)/2,f.y=o.canvas.clientHeight-f._height,f.collider=new u.RectangleCollider({x:f.x,y:f.y,width:f._width,height:f._height,name:"Paddle",object:f}),f}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default),i(t,[{key:"update",value:function(e){var t=this.vx*e;this.controls.isDown(l.default.LEFT_ARROW)&&this.x>0&&(this.x-=t),this.controls.isDown(l.default.RIGHT_ARROW)&&this.x+this._width<o.canvas.clientWidth&&(this.x+=t),this.collider.update({x:this.x})}},{key:"draw",value:function(){var e=this.x,t=this.y,n=this._width,i=this._height;o.ctx.fillStyle=a.primary,o.ctx.fillRect(e,t,n,i),o.ctx.fillStyle=a.defaultColor}}]),t}();t.default=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.calculateOppositeSide=function(e){var t=e.angle,n=e.hypotenuse;return Math.sin(t)*n},t.calculateAdjacentSide=function(e){var t=e.angle,n=e.hypotenuse;return Math.cos(t)*n}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),o=n(4),a=(i=o)&&i.__esModule?i:{default:i},u=n(0),l=n(1),c=n(3),s=n(2),f=n(16);var h=function(e){function t(e){var n=e.x,i=e.y,r=e.radius,o=void 0===r?c.BALL_RADIUS:r,a=e.v,u=void 0===a?250:a,l=e.angle,f=void 0===l?Math.PI/4:l,h=e.game;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{x:n,y:i}));return d.radius=o,d.v=u,d.angle=f,d._game=h,d.collider=new s.CircleCollider({x:n,y:i,radius:o,name:"Ball",object:d}),d}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,a.default),r(t,[{key:"update",value:function(e){var t=this.x,n=this.y,i=this.v,r=this.radius,o=(0,f.calculateAdjacentSide)({angle:this.angle,hypotenuse:i})*e,a=-(0,f.calculateOppositeSide)({angle:this.angle,hypotenuse:i})*e;n+a>u.canvas.clientHeight-r&&this._game.gameOver(),this.collider.collidesWith("Paddle")&&this._mirrorVertically(),this._checkBrickCollision(),(t+o<r||t+o>u.canvas.clientWidth-r)&&this._mirrorHorizontally(),n+a<r&&this._mirrorVertically(),o=(0,f.calculateAdjacentSide)({angle:this.angle,hypotenuse:i})*e,a=-(0,f.calculateOppositeSide)({angle:this.angle,hypotenuse:i})*e,this.x=t+o,this.y=n+a,this.collider.update({x:this.x,y:this.y})}},{key:"draw",value:function(){var e=this.x,t=this.y,n=this.radius;u.ctx.fillStyle=l.primary,u.ctx.beginPath(),u.ctx.arc(e,t,n,0,2*Math.PI),u.ctx.fill(),u.ctx.fillStyle=l.defaultColor}},{key:"_mirrorHorizontally",value:function(){this.angle=-this.angle+Math.PI,this.angle<0&&(this.angle=this.angle%(2*Math.PI)+2*Math.PI)}},{key:"_mirrorVertically",value:function(){this.angle=-this.angle,this.angle<0&&(this.angle=this.angle%(2*Math.PI)+2*Math.PI)}},{key:"_checkBrickCollision",value:function(){if(this.collider.collidesWith("Brick")){var e=this.x,t=this.y,n=this.collider.getCollisionWith("Brick");e>=n.x&&e<=n.x+n.width?this._mirrorVertically():t>=n.y&&t<=n.y+n.height?this._mirrorHorizontally():(this._mirrorVertically(),this._mirrorHorizontally()),n.die()}}}]),t}();t.default=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Brick=t.Paddle=t.Ball=void 0;var i=a(n(17)),r=a(n(15)),o=a(n(5));function a(e){return e&&e.__esModule?e:{default:e}}t.Ball=i.default,t.Paddle=r.default,t.Brick=o.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=n(18),o=n(0),a=n(13),u=n(3),l=h(n(12)),c=h(n(11)),s=h(n(5)),f=n(9);function h(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.gameObjects=[],this._dt=0,this._now=(0,a.timestamp)(),this._last=this._now,this._timeStep=1/60,this._isGameOver=!1,this._controls=new l.default,this._controls.registerListeners(),this._collision=new c.default,this._frame=this._frame.bind(this)}return i(e,[{key:"start",value:function(){var e=this;this.gameObjects.push(new r.Ball({x:(o.canvas.clientWidth+u.BALL_RADIUS)/2,y:o.canvas.clientHeight-u.BALL_RADIUS-20,game:this})),this.gameObjects.push(new r.Paddle({x:0,y:0,controls:this._controls})),this._generateBricks().forEach(function(t){return e.gameObjects.push(t)}),requestAnimationFrame(this._frame)}},{key:"gameOver",value:function(){this._isGameOver=!0,alert("Game Over!"),document.location.reload()}},{key:"_update",value:function(e){this.gameObjects=this.gameObjects.filter(function(e){return!e.dead}),this.gameObjects.forEach(function(t){return t.update(e)}),this._collision.detect(this.gameObjects)}},{key:"_draw",value:function(){o.ctx.clearRect(0,0,o.canvas.clientWidth,o.canvas.clientHeight),this.gameObjects.forEach(function(e){return e.draw()})}},{key:"_frame",value:function(){for(this._now=(0,a.timestamp)(),this._dt=this._dt+(0,a.calculateDeltaTime)(this._now,this._last);this._dt>this._timeStep&&!this._isGameOver;)this._dt-=this._timeStep,this._update(this._timeStep);this._draw(),this._last=this._now,requestAnimationFrame(this._frame)}},{key:"_generateBricks",value:function(){for(var e=(0,f.brickWidth)(),t=[],n=0;n<u.BRICK_COLUMN_COUNT;n++)for(var i=0;i<u.BRICK_ROW_COUNT;i++)t.push(new s.default({x:n*(e+u.BRICK_PADDING)+u.BRICK_OFFSET_LEFT,y:i*(u.BRICK_HEIGHT+u.BRICK_PADDING)+u.BRICK_OFFSET_TOP,width:e,height:u.BRICK_HEIGHT}));return t}}]),e}();t.default=d},function(e,t,n){"use strict";var i,r=n(0),o=n(19),a=(i=o)&&i.__esModule?i:{default:i};(0,r.resizeCanvas)(),(new a.default).start()}]);